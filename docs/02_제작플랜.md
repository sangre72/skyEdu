# ë³‘ì›ë™í–‰ í”Œë«í¼ ì œì‘ í”Œëœ

## í”„ë¡œì íŠ¸: ê³ì— (Gyeote)

---

## 1. ê¸°ìˆ  ìŠ¤íƒ

### 1.1 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              í´ë¼ì´ì–¸íŠ¸                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ê³ ê°/ë§¤ë‹ˆì € ì›¹ì•±         â”‚              ê´€ë¦¬ì ì›¹                   â”‚
â”‚     Next.js 14 + React + MUI   â”‚       Next.js 14 + React + MUI         â”‚
â”‚        (ë°˜ì‘í˜• ì›¹ì•±)            â”‚           (ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                 â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API Gateway (Nginx)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Auth Service  â”‚    â”‚  Main Backend   â”‚    â”‚  Notification   â”‚
â”‚   (Python)      â”‚    â”‚   (Python)      â”‚    â”‚    Service      â”‚
â”‚   FastAPI       â”‚    â”‚   FastAPI       â”‚    â”‚   (Python)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ë°ì´í„° ë ˆì´ì–´                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PostgreSQL    â”‚     Redis       â”‚   MongoDB       â”‚      S3           â”‚
â”‚   (ì£¼ ë°ì´í„°ë² ì´ìŠ¤) â”‚   (ìºì‹œ/ì„¸ì…˜)    â”‚  (ë¡œê·¸/ì±„íŒ…)     â”‚    (íŒŒì¼ì €ì¥)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ì™¸ë¶€ ì„œë¹„ìŠ¤                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Firebase      â”‚   ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡   â”‚    í† ìŠ¤í˜ì´ë¨¼ì¸    â”‚    AWS SNS        â”‚
â”‚   (í‘¸ì‹œì•Œë¦¼)      â”‚   (ì•Œë¦¼í†¡)       â”‚    (ê²°ì œ)        â”‚   (SMS)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

#### Frontend (ì›¹ì•± - ê³ ê°/ë§¤ë‹ˆì €/ê´€ë¦¬ì ê³µí†µ)

| êµ¬ë¶„ | ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|------|------|----------|
| **Framework** | Next.js 14 (App Router) | SSR/SSG, SEO ìµœì í™”, í’ë¶€í•œ ìƒíƒœê³„ |
| **UI Library** | React 18 | ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜, ëŒ€ê·œëª¨ ì»¤ë®¤ë‹ˆí‹° |
| **UI Components** | MUI (Material-UI) v5 | í’ë¶€í•œ ì»´í¬ë„ŒíŠ¸, í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§• |
| **State** | Zustand + TanStack Query | í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ìƒíƒœ ë¶„ë¦¬ ê´€ë¦¬ |
| **Forms** | React Hook Form + Zod | íƒ€ì… ì•ˆì „, ì„±ëŠ¥ ìµœì í™” |
| **Charts** | Recharts / MUI X Charts | ëŒ€ì‹œë³´ë“œ í†µê³„ ì‹œê°í™” |
| **Maps** | react-kakao-maps-sdk | ì¹´ì¹´ì˜¤ë§µ ì—°ë™ |
| **PWA** | next-pwa | ëª¨ë°”ì¼ ì•± ê²½í—˜ ì œê³µ |

#### Backend (Python)

| êµ¬ë¶„ | ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|------|------|----------|
| **Framework** | FastAPI | ê³ ì„±ëŠ¥, ìë™ API ë¬¸ì„œí™”, íƒ€ì… íŒíŠ¸ |
| **ORM** | SQLAlchemy 2.0 + Alembic | ê°•ë ¥í•œ ORM, ë§ˆì´ê·¸ë ˆì´ì…˜ ì§€ì› |
| **Validation** | Pydantic v2 | ë°ì´í„° ê²€ì¦, ì§ë ¬í™” |
| **Auth** | python-jose + passlib | JWT í† í°, ë¹„ë°€ë²ˆí˜¸ í•´ì‹± |
| **Task Queue** | Celery + Redis | ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬ |
| **WebSocket** | FastAPI WebSocket | ì‹¤ì‹œê°„ í†µì‹  |
| **Testing** | pytest + httpx | ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ ì§€ì› |

#### Database & Infrastructure

| êµ¬ë¶„ | ê¸°ìˆ  | ìš©ë„ |
|------|------|------|
| **Main DB** | PostgreSQL 15 | ì‚¬ìš©ì, ì˜ˆì•½, ê²°ì œ ë°ì´í„° |
| **Cache** | Redis 7 | ì„¸ì…˜, ìºì‹œ, Celery ë¸Œë¡œì»¤ |
| **Document DB** | MongoDB | ì±„íŒ… ë¡œê·¸, ì§„ë£Œ ë¦¬í¬íŠ¸ |
| **File Storage** | AWS S3 | ì´ë¯¸ì§€, ë¬¸ì„œ ì €ì¥ |
| **CDN** | CloudFront | ì •ì  íŒŒì¼, ì´ë¯¸ì§€ ìºì‹± |
| **Container** | Docker + Docker Compose | ê°œë°œ/ë°°í¬ í™˜ê²½ ì¼ê´€ì„± |
| **Orchestration** | AWS ECS / Kubernetes | ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| **CI/CD** | GitHub Actions | ìë™í™”ëœ í…ŒìŠ¤íŠ¸/ë°°í¬ |

#### ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™

| ì„œë¹„ìŠ¤ | ìš©ë„ | Python ë¼ì´ë¸ŒëŸ¬ë¦¬ |
|--------|------|------------------|
| **ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸** | ì†Œì…œ ë¡œê·¸ì¸ | httpx |
| **ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡** | ì˜ˆì•½ ì•Œë¦¼ | httpx |
| **í† ìŠ¤í˜ì´ë¨¼ì¸ ** | ê²°ì œ | toss-payments-python |
| **Firebase** | í‘¸ì‹œ ì•Œë¦¼ | firebase-admin |
| **AWS S3** | íŒŒì¼ ì—…ë¡œë“œ | boto3 |
| **ì¹´ì¹´ì˜¤ë§µ** | ì§€ë„/ìœ„ì¹˜ | (í”„ë¡ íŠ¸ì—”ë“œ) |

---

## 2. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 2.1 ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     users       â”‚       â”‚   reservations  â”‚       â”‚    managers     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚â”€â”€â”    â”‚ id (PK)         â”‚    â”Œâ”€â”€â”‚ id (PK)         â”‚
â”‚ email           â”‚  â”‚    â”‚ user_id (FK)    â”‚â—„â”€â”€â”€â”¤  â”‚ user_id (FK)    â”‚
â”‚ password_hash   â”‚  â””â”€â”€â”€â–ºâ”‚ manager_id (FK) â”‚â”€â”€â”€â”€â”˜  â”‚ status          â”‚
â”‚ name            â”‚       â”‚ service_type    â”‚       â”‚ rating          â”‚
â”‚ phone           â”‚       â”‚ scheduled_at    â”‚       â”‚ total_services  â”‚
â”‚ role            â”‚       â”‚ hospital_name   â”‚       â”‚ certifications  â”‚
â”‚ created_at      â”‚       â”‚ hospital_addressâ”‚       â”‚ available_areas â”‚
â”‚ updated_at      â”‚       â”‚ status          â”‚       â”‚ bank_account    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ price           â”‚       â”‚ created_at      â”‚
         â”‚                â”‚ created_at      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
         â”‚                         â”‚                         â”‚
         â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  user_profiles  â”‚       â”‚    payments     â”‚       â”‚ manager_schedulesâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚       â”‚ id (PK)         â”‚       â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚       â”‚ reservation_id  â”‚       â”‚ manager_id (FK) â”‚
â”‚ birth_date      â”‚       â”‚ amount          â”‚       â”‚ date            â”‚
â”‚ address         â”‚       â”‚ method          â”‚       â”‚ start_time      â”‚
â”‚ emergency_contactâ”‚      â”‚ status          â”‚       â”‚ end_time        â”‚
â”‚ medical_notes   â”‚       â”‚ paid_at         â”‚       â”‚ is_available    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ refunded_at     â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     reviews     â”‚       â”‚  service_logs   â”‚       â”‚     chats       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚       â”‚ id (PK)         â”‚       â”‚ id (PK)         â”‚
â”‚ reservation_id  â”‚       â”‚ reservation_id  â”‚       â”‚ reservation_id  â”‚
â”‚ user_id (FK)    â”‚       â”‚ step            â”‚       â”‚ sender_id       â”‚
â”‚ manager_id (FK) â”‚       â”‚ status          â”‚       â”‚ message         â”‚
â”‚ rating          â”‚       â”‚ location        â”‚       â”‚ type            â”‚
â”‚ content         â”‚       â”‚ photo_url       â”‚       â”‚ created_at      â”‚
â”‚ created_at      â”‚       â”‚ notes           â”‚       â”‚ read_at         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ created_at      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 SQLAlchemy ëª¨ë¸ ì˜ˆì‹œ

```python
# app/models/user.py
from sqlalchemy import Column, String, Boolean, DateTime, Enum
from sqlalchemy.dialects.postgresql import UUID
from sqlalchemy.orm import relationship
import uuid
from datetime import datetime

from app.db.base import Base

class UserRole(str, Enum):
    CUSTOMER = "customer"
    MANAGER = "manager"
    ADMIN = "admin"

class User(Base):
    __tablename__ = "users"

    id = Column(UUID(as_uuid=True), primary_key=True, default=uuid.uuid4)
    email = Column(String(255), unique=True, nullable=False, index=True)
    password_hash = Column(String(255), nullable=True)
    name = Column(String(100), nullable=False)
    phone = Column(String(20), nullable=False)
    role = Column(String(20), nullable=False, default=UserRole.CUSTOMER)
    kakao_id = Column(String(100), nullable=True)
    is_verified = Column(Boolean, default=False)
    is_active = Column(Boolean, default=True)
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)

    # Relationships
    profile = relationship("UserProfile", back_populates="user", uselist=False)
    reservations = relationship("Reservation", back_populates="user")
    manager_profile = relationship("ManagerProfile", back_populates="user", uselist=False)


# app/models/reservation.py
class ReservationStatus(str, Enum):
    PENDING = "pending"
    CONFIRMED = "confirmed"
    IN_PROGRESS = "in_progress"
    COMPLETED = "completed"
    CANCELLED = "cancelled"

class Reservation(Base):
    __tablename__ = "reservations"

    id = Column(UUID(as_uuid=True), primary_key=True, default=uuid.uuid4)
    user_id = Column(UUID(as_uuid=True), ForeignKey("users.id"), nullable=False)
    manager_id = Column(UUID(as_uuid=True), ForeignKey("users.id"), nullable=True)
    service_type = Column(String(50), nullable=False)
    scheduled_date = Column(Date, nullable=False)
    scheduled_time = Column(Time, nullable=False)
    estimated_hours = Column(Numeric(3, 1), nullable=False)
    hospital_name = Column(String(200), nullable=False)
    hospital_address = Column(Text, nullable=False)
    hospital_department = Column(String(100), nullable=True)
    pickup_address = Column(Text, nullable=True)
    symptoms = Column(Text, nullable=True)
    special_requests = Column(Text, nullable=True)
    status = Column(String(30), nullable=False, default=ReservationStatus.PENDING)
    price = Column(Numeric(10, 0), nullable=False)
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)

    # Relationships
    user = relationship("User", back_populates="reservations", foreign_keys=[user_id])
    manager = relationship("User", foreign_keys=[manager_id])
    payment = relationship("Payment", back_populates="reservation", uselist=False)
    review = relationship("Review", back_populates="reservation", uselist=False)
```

---

## 3. API ì„¤ê³„

### 3.1 FastAPI ë¼ìš°í„° êµ¬ì¡°

```python
# app/api/v1/router.py
from fastapi import APIRouter

from app.api.v1.endpoints import (
    auth,
    users,
    reservations,
    managers,
    payments,
    reviews,
    chats,
    admin,
)

api_router = APIRouter()

api_router.include_router(auth.router, prefix="/auth", tags=["ì¸ì¦"])
api_router.include_router(users.router, prefix="/users", tags=["ì‚¬ìš©ì"])
api_router.include_router(reservations.router, prefix="/reservations", tags=["ì˜ˆì•½"])
api_router.include_router(managers.router, prefix="/managers", tags=["ë§¤ë‹ˆì €"])
api_router.include_router(payments.router, prefix="/payments", tags=["ê²°ì œ"])
api_router.include_router(reviews.router, prefix="/reviews", tags=["ë¦¬ë·°"])
api_router.include_router(chats.router, prefix="/chats", tags=["ì±„íŒ…"])
api_router.include_router(admin.router, prefix="/admin", tags=["ê´€ë¦¬ì"])
```

### 3.2 API ì—”ë“œí¬ì¸íŠ¸

#### ì¸ì¦ API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/v1/auth/register` | íšŒì›ê°€ì… |
| POST | `/api/v1/auth/login` | ë¡œê·¸ì¸ |
| POST | `/api/v1/auth/kakao` | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ |
| POST | `/api/v1/auth/refresh` | í† í° ê°±ì‹  |
| POST | `/api/v1/auth/logout` | ë¡œê·¸ì•„ì›ƒ |
| POST | `/api/v1/auth/verify-phone` | íœ´ëŒ€í° ì¸ì¦ |

#### ì˜ˆì•½ API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/v1/reservations` | ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ |
| POST | `/api/v1/reservations` | ì˜ˆì•½ ìƒì„± |
| GET | `/api/v1/reservations/{id}` | ì˜ˆì•½ ìƒì„¸ ì¡°íšŒ |
| PATCH | `/api/v1/reservations/{id}` | ì˜ˆì•½ ìˆ˜ì • |
| DELETE | `/api/v1/reservations/{id}` | ì˜ˆì•½ ì·¨ì†Œ |
| GET | `/api/v1/reservations/{id}/status` | ì‹¤ì‹œê°„ ìƒíƒœ ì¡°íšŒ |
| PATCH | `/api/v1/reservations/{id}/status` | ìƒíƒœ ì—…ë°ì´íŠ¸ (ë§¤ë‹ˆì €) |

#### ë§¤ë‹ˆì € API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/v1/managers` | ë§¤ë‹ˆì € ëª©ë¡ (í•„í„°ë§) |
| GET | `/api/v1/managers/{id}` | ë§¤ë‹ˆì € ìƒì„¸ |
| GET | `/api/v1/managers/{id}/reviews` | ë§¤ë‹ˆì € ë¦¬ë·° ëª©ë¡ |
| GET | `/api/v1/managers/{id}/schedule` | ë§¤ë‹ˆì € ì¼ì • ì¡°íšŒ |
| PATCH | `/api/v1/managers/{id}/schedule` | ì¼ì • ì—…ë°ì´íŠ¸ |
| GET | `/api/v1/managers/me/reservations` | ë‚´ ì˜ˆì•½ ëª©ë¡ (ë§¤ë‹ˆì €) |

### 3.3 Pydantic ìŠ¤í‚¤ë§ˆ ì˜ˆì‹œ

```python
# app/schemas/reservation.py
from pydantic import BaseModel, Field
from datetime import date, time
from decimal import Decimal
from uuid import UUID
from typing import Optional
from enum import Enum

class ServiceType(str, Enum):
    FULL_CARE = "full_care"
    HOSPITAL_CARE = "hospital_care"
    SPECIAL_CARE = "special_care"

class ReservationCreate(BaseModel):
    service_type: ServiceType
    scheduled_date: date
    scheduled_time: time
    estimated_hours: Decimal = Field(ge=1, le=12)
    hospital_name: str = Field(max_length=200)
    hospital_address: str
    hospital_department: Optional[str] = None
    pickup_address: Optional[str] = None
    symptoms: Optional[str] = None
    special_requests: Optional[str] = None
    manager_id: Optional[UUID] = None

class ReservationResponse(BaseModel):
    id: UUID
    user_id: UUID
    manager_id: Optional[UUID]
    service_type: ServiceType
    scheduled_date: date
    scheduled_time: time
    estimated_hours: Decimal
    hospital_name: str
    hospital_address: str
    status: str
    price: Decimal
    created_at: datetime

    class Config:
        from_attributes = True

class ReservationList(BaseModel):
    items: list[ReservationResponse]
    total: int
    page: int
    limit: int
```

### 3.4 ì‹¤ì‹œê°„ í†µì‹  (WebSocket)

```python
# app/api/v1/endpoints/ws.py
from fastapi import APIRouter, WebSocket, WebSocketDisconnect, Depends
from app.core.websocket import ConnectionManager

router = APIRouter()
manager = ConnectionManager()

@router.websocket("/ws/reservation/{reservation_id}")
async def reservation_websocket(
    websocket: WebSocket,
    reservation_id: str,
    token: str = Query(...),
):
    # í† í° ê²€ì¦
    user = await verify_ws_token(token)
    if not user:
        await websocket.close(code=4001)
        return

    await manager.connect(websocket, reservation_id)
    try:
        while True:
            data = await websocket.receive_json()

            if data["type"] == "location_update":
                await manager.broadcast(
                    reservation_id,
                    {
                        "type": "location",
                        "lat": data["lat"],
                        "lng": data["lng"],
                        "timestamp": datetime.utcnow().isoformat()
                    }
                )
            elif data["type"] == "status_update":
                await manager.broadcast(
                    reservation_id,
                    {
                        "type": "status",
                        "status": data["status"],
                        "timestamp": datetime.utcnow().isoformat()
                    }
                )
            elif data["type"] == "chat":
                await manager.broadcast(
                    reservation_id,
                    {
                        "type": "chat",
                        "sender_id": str(user.id),
                        "message": data["message"],
                        "timestamp": datetime.utcnow().isoformat()
                    }
                )
    except WebSocketDisconnect:
        manager.disconnect(websocket, reservation_id)
```

---

## 4. í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

### 4.1 Next.js í”„ë¡œì íŠ¸ êµ¬ì¡°

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/                   # ì¸ì¦ ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ (customer)/               # ê³ ê° ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # í™ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx          # ì˜ˆì•½ ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”œâ”€â”€ managers/
â”‚   â”‚   â”‚   â”œâ”€â”€ mypage/
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ (manager)/                # ë§¤ë‹ˆì € ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ reservations/
â”‚   â”‚   â”‚   â”œâ”€â”€ schedule/
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ admin/                    # ê´€ë¦¬ì
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ reservations/
â”‚   â”‚   â”‚   â”œâ”€â”€ managers/
â”‚   â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”‚   â”œâ”€â”€ statistics/
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ common/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â”œâ”€â”€ ui/                       # MUI ë˜í¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ DataTable.tsx
â”‚   â”‚   â”œâ”€â”€ reservation/              # ì˜ˆì•½ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ReservationForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ReservationCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ReservationStatus.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ServiceSelector.tsx
â”‚   â”‚   â”œâ”€â”€ manager/                  # ë§¤ë‹ˆì € ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ManagerCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ManagerProfile.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ScheduleCalendar.tsx
â”‚   â”‚   â””â”€â”€ admin/                    # ê´€ë¦¬ì ê´€ë ¨
â”‚   â”‚       â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚       â”œâ”€â”€ StatCard.tsx
â”‚   â”‚       â””â”€â”€ Charts.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                        # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useReservation.ts
â”‚   â”‚   â”œâ”€â”€ useWebSocket.ts
â”‚   â”‚   â””â”€â”€ useKakaoMap.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                          # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ api.ts                    # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                       # Zustand ìŠ¤í† ì–´
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â”œâ”€â”€ reservationStore.ts
â”‚   â”‚   â””â”€â”€ notificationStore.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                        # TypeScript íƒ€ì…
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”œâ”€â”€ reservation.ts
â”‚   â”‚   â”œâ”€â”€ manager.ts
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚
â”‚   â””â”€â”€ theme/                        # MUI í…Œë§ˆ
â”‚       â”œâ”€â”€ theme.ts
â”‚       â””â”€â”€ palette.ts
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ images/
â”‚
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ tailwind.config.js              # MUIì™€ í•¨ê»˜ ì‚¬ìš© (ìœ í‹¸ë¦¬í‹°)
```

### 4.2 MUI í…Œë§ˆ ì„¤ì •

```typescript
// src/theme/theme.ts
import { createTheme } from '@mui/material/styles';

export const theme = createTheme({
  palette: {
    primary: {
      main: '#2563EB',      // íŒŒë€ìƒ‰ ê³„ì—´
      light: '#60A5FA',
      dark: '#1D4ED8',
    },
    secondary: {
      main: '#7C3AED',      // ë³´ë¼ìƒ‰ ê³„ì—´
      light: '#A78BFA',
      dark: '#5B21B6',
    },
    success: {
      main: '#10B981',
    },
    warning: {
      main: '#F59E0B',
    },
    error: {
      main: '#EF4444',
    },
    background: {
      default: '#F9FAFB',
      paper: '#FFFFFF',
    },
  },
  typography: {
    fontFamily: '"Pretendard", "Noto Sans KR", sans-serif',
    h1: {
      fontSize: '2rem',
      fontWeight: 700,
    },
    h2: {
      fontSize: '1.5rem',
      fontWeight: 600,
    },
    body1: {
      fontSize: '1rem',
      lineHeight: 1.6,
    },
  },
  shape: {
    borderRadius: 12,
  },
  components: {
    MuiButton: {
      styleOverrides: {
        root: {
          textTransform: 'none',
          fontWeight: 600,
          padding: '10px 24px',
        },
      },
    },
    MuiCard: {
      styleOverrides: {
        root: {
          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',
        },
      },
    },
  },
});
```

### 4.3 API í´ë¼ì´ì–¸íŠ¸

```typescript
// src/lib/api.ts
import axios, { AxiosError, AxiosInstance } from 'axios';
import { useAuthStore } from '@/stores/authStore';

const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api/v1';

class ApiClient {
  private client: AxiosInstance;

  constructor() {
    this.client = axios.create({
      baseURL: API_BASE_URL,
      headers: {
        'Content-Type': 'application/json',
      },
    });

    // Request interceptor
    this.client.interceptors.request.use((config) => {
      const token = useAuthStore.getState().accessToken;
      if (token) {
        config.headers.Authorization = `Bearer ${token}`;
      }
      return config;
    });

    // Response interceptor
    this.client.interceptors.response.use(
      (response) => response,
      async (error: AxiosError) => {
        if (error.response?.status === 401) {
          // í† í° ê°±ì‹  ì‹œë„
          const refreshed = await this.refreshToken();
          if (refreshed) {
            return this.client.request(error.config!);
          }
          useAuthStore.getState().logout();
        }
        return Promise.reject(error);
      }
    );
  }

  private async refreshToken(): Promise<boolean> {
    try {
      const refreshToken = useAuthStore.getState().refreshToken;
      const response = await axios.post(`${API_BASE_URL}/auth/refresh`, {
        refresh_token: refreshToken,
      });
      useAuthStore.getState().setTokens(response.data.access_token, response.data.refresh_token);
      return true;
    } catch {
      return false;
    }
  }

  // Auth
  async login(email: string, password: string) {
    return this.client.post('/auth/login', { email, password });
  }

  async register(data: RegisterData) {
    return this.client.post('/auth/register', data);
  }

  // Reservations
  async getReservations(params?: ReservationQueryParams) {
    return this.client.get('/reservations', { params });
  }

  async createReservation(data: CreateReservationData) {
    return this.client.post('/reservations', data);
  }

  async getReservation(id: string) {
    return this.client.get(`/reservations/${id}`);
  }

  // Managers
  async getManagers(params?: ManagerQueryParams) {
    return this.client.get('/managers', { params });
  }

  async getManager(id: string) {
    return this.client.get(`/managers/${id}`);
  }
}

export const api = new ApiClient();
```

---

## 5. í™”ë©´ ì„¤ê³„

### 5.1 ê³ ê° ì›¹ì•± í™”ë©´ ëª©ë¡

```
ğŸ“± ê³ ê° ì›¹ì•± (ë°˜ì‘í˜•)

1. ì˜¨ë³´ë”©/ì¸ì¦
   â”œâ”€â”€ 1.1 ëœë”© í˜ì´ì§€
   â”œâ”€â”€ 1.2 ë¡œê·¸ì¸ (ì´ë©”ì¼/ì¹´ì¹´ì˜¤)
   â”œâ”€â”€ 1.3 íšŒì›ê°€ì…
   â”œâ”€â”€ 1.4 íœ´ëŒ€í° ì¸ì¦
   â””â”€â”€ 1.5 ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°

2. í™ˆ
   â”œâ”€â”€ 2.1 ë©”ì¸ í™ˆ
   â”‚   â”œâ”€â”€ ë¹ ë¥¸ ì˜ˆì•½ ë²„íŠ¼
   â”‚   â”œâ”€â”€ ì§„í–‰ì¤‘ì¸ ì˜ˆì•½ ì¹´ë“œ
   â”‚   â””â”€â”€ ì¶”ì²œ ë§¤ë‹ˆì €
   â””â”€â”€ 2.2 ê³µì§€ì‚¬í•­

3. ì˜ˆì•½
   â”œâ”€â”€ 3.1 ì„œë¹„ìŠ¤ ì„ íƒ
   â”œâ”€â”€ 3.2 ë‚ ì§œ/ì‹œê°„ ì„ íƒ
   â”œâ”€â”€ 3.3 ë³‘ì› ì •ë³´ ì…ë ¥ (ì¹´ì¹´ì˜¤ë§µ)
   â”œâ”€â”€ 3.4 ìƒì„¸ ìš”ì²­ì‚¬í•­
   â”œâ”€â”€ 3.5 ë§¤ë‹ˆì € ì„ íƒ
   â”œâ”€â”€ 3.6 ì˜ˆì•½ í™•ì¸ & ê²°ì œ
   â””â”€â”€ 3.7 ì˜ˆì•½ ì™„ë£Œ

4. ë§¤ë‹ˆì €
   â”œâ”€â”€ 4.1 ë§¤ë‹ˆì € ëª©ë¡ (í•„í„°/ì •ë ¬)
   â”œâ”€â”€ 4.2 ë§¤ë‹ˆì € ìƒì„¸
   â”‚   â”œâ”€â”€ í”„ë¡œí•„
   â”‚   â”œâ”€â”€ ë¦¬ë·°
   â”‚   â””â”€â”€ ê°€ëŠ¥ ì¼ì •
   â””â”€â”€ 4.3 ì°œí•œ ë§¤ë‹ˆì €

5. ë‚´ ì˜ˆì•½
   â”œâ”€â”€ 5.1 ì˜ˆì•½ ëª©ë¡ (íƒ­: ì˜ˆì •/ì§„í–‰ì¤‘/ì™„ë£Œ)
   â”œâ”€â”€ 5.2 ì˜ˆì•½ ìƒì„¸
   â”œâ”€â”€ 5.3 ì‹¤ì‹œê°„ í˜„í™© (ì§€ë„+ìƒíƒœ)
   â”œâ”€â”€ 5.4 ì§„ë£Œ ë¦¬í¬íŠ¸
   â””â”€â”€ 5.5 ë¦¬ë·° ì‘ì„±

6. ì±„íŒ…
   â”œâ”€â”€ 6.1 ì±„íŒ… ëª©ë¡
   â””â”€â”€ 6.2 ì±„íŒ…ë°©

7. ë§ˆì´í˜ì´ì§€
   â”œâ”€â”€ 7.1 í”„ë¡œí•„
   â”œâ”€â”€ 7.2 ê°€ì¡± ê³„ì •
   â”œâ”€â”€ 7.3 ê²°ì œ ìˆ˜ë‹¨
   â”œâ”€â”€ 7.4 ì´ìš© ë‚´ì—­
   â”œâ”€â”€ 7.5 ì¿ í°/í¬ì¸íŠ¸
   â”œâ”€â”€ 7.6 ì•Œë¦¼ ì„¤ì •
   â”œâ”€â”€ 7.7 FAQ
   â”œâ”€â”€ 7.8 1:1 ë¬¸ì˜
   â””â”€â”€ 7.9 ì„¤ì •
```

### 5.2 ê´€ë¦¬ì ì›¹ í™”ë©´ ëª©ë¡

```
ğŸ–¥ï¸ ê´€ë¦¬ì ì›¹

1. ëŒ€ì‹œë³´ë“œ
   â”œâ”€â”€ ì˜¤ëŠ˜ í˜„í™© ìš”ì•½
   â”œâ”€â”€ ì£¼ê°„ ì˜ˆì•½ ì¶”ì´ ì°¨íŠ¸
   â”œâ”€â”€ ì‹¤ì‹œê°„ ì•Œë¦¼
   â””â”€â”€ í•µì‹¬ ì§€í‘œ ì¹´ë“œ

2. íšŒì› ê´€ë¦¬
   â”œâ”€â”€ 2.1 ê³ ê° ëª©ë¡/ìƒì„¸
   â”œâ”€â”€ 2.2 ë§¤ë‹ˆì € ëª©ë¡/ìƒì„¸
   â”œâ”€â”€ 2.3 ë§¤ë‹ˆì € ìŠ¹ì¸ ê´€ë¦¬
   â””â”€â”€ 2.4 ë¸”ë™ë¦¬ìŠ¤íŠ¸

3. ì˜ˆì•½ ê´€ë¦¬
   â”œâ”€â”€ 3.1 ì „ì²´ ì˜ˆì•½ ëª©ë¡
   â”œâ”€â”€ 3.2 ì˜ˆì•½ ìƒì„¸
   â”œâ”€â”€ 3.3 ìˆ˜ë™ ë§¤ì¹­
   â””â”€â”€ 3.4 ê¸´ê¸‰ ë°°ì •

4. ì •ì‚° ê´€ë¦¬
   â”œâ”€â”€ 4.1 ì •ì‚° ëŒ€ê¸° ëª©ë¡
   â”œâ”€â”€ 4.2 ì •ì‚° ì²˜ë¦¬
   â””â”€â”€ 4.3 ì •ì‚° ë‚´ì—­

5. ì½˜í…ì¸  ê´€ë¦¬
   â”œâ”€â”€ 5.1 ê³µì§€ì‚¬í•­
   â”œâ”€â”€ 5.2 FAQ
   â”œâ”€â”€ 5.3 ì´ìš©ì•½ê´€
   â””â”€â”€ 5.4 ë°°ë„ˆ/íŒì—…

6. CS ê´€ë¦¬
   â”œâ”€â”€ 6.1 1:1 ë¬¸ì˜
   â”œâ”€â”€ 6.2 ì‹ ê³  ê´€ë¦¬
   â””â”€â”€ 6.3 ë¦¬ë·° ê´€ë¦¬

7. í†µê³„
   â”œâ”€â”€ 7.1 ë§¤ì¶œ í†µê³„
   â”œâ”€â”€ 7.2 ì´ìš©ì í†µê³„
   â”œâ”€â”€ 7.3 ë§¤ë‹ˆì € í†µê³„
   â””â”€â”€ 7.4 ì§€ì—­ë³„ í†µê³„

8. ì„¤ì •
   â”œâ”€â”€ 8.1 ê´€ë¦¬ì ê³„ì •
   â”œâ”€â”€ 8.2 ê¶Œí•œ ê´€ë¦¬
   â””â”€â”€ 8.3 ì‹œìŠ¤í…œ ì„¤ì •
```

---

## 6. í”„ë¡œì íŠ¸ êµ¬ì¡° (ì „ì²´)

```
skyedu/
â”œâ”€â”€ frontend/                         # Next.js í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ theme/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ backend/                          # Python FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ endpoints/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ users.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reservations.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ managers.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ payments.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reviews.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chats.py
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ admin.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ router.py
â”‚   â”‚   â”‚   â””â”€â”€ deps.py               # ì˜ì¡´ì„±
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py             # ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ security.py           # ë³´ì•ˆ (JWT, í•´ì‹±)
â”‚   â”‚   â”‚   â””â”€â”€ websocket.py          # WebSocket ë§¤ë‹ˆì €
â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py               # SQLAlchemy Base
â”‚   â”‚   â”‚   â””â”€â”€ session.py            # DB ì„¸ì…˜
â”‚   â”‚   â”œâ”€â”€ models/                   # SQLAlchemy ëª¨ë¸
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation.py
â”‚   â”‚   â”‚   â”œâ”€â”€ manager.py
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.py
â”‚   â”‚   â”‚   â””â”€â”€ review.py
â”‚   â”‚   â”œâ”€â”€ schemas/                  # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation.py
â”‚   â”‚   â”‚   â”œâ”€â”€ manager.py
â”‚   â”‚   â”‚   â””â”€â”€ common.py
â”‚   â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”‚   â”œâ”€â”€ reservation.py
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.py
â”‚   â”‚   â”‚   â””â”€â”€ notification.py
â”‚   â”‚   â”œâ”€â”€ tasks/                    # Celery íƒœìŠ¤í¬
â”‚   â”‚   â”‚   â”œâ”€â”€ celery_app.py
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.py
â”‚   â”‚   â”‚   â””â”€â”€ payment.py
â”‚   â”‚   â””â”€â”€ main.py                   # FastAPI ì•±
â”‚   â”œâ”€â”€ alembic/                      # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”‚   â”œâ”€â”€ versions/
â”‚   â”‚   â””â”€â”€ env.py
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ conftest.py
â”‚   â”‚   â”œâ”€â”€ test_auth.py
â”‚   â”‚   â””â”€â”€ test_reservations.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ requirements-dev.txt
â”‚   â”œâ”€â”€ alembic.ini
â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ docs/                             # ë¬¸ì„œ
â”‚   â”œâ”€â”€ 01_ê¸°íšì„œ.md
â”‚   â”œâ”€â”€ 02_ì œì‘í”Œëœ.md
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ openapi.json
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ docker-compose.yml            # ê°œë°œ í™˜ê²½
â”‚   â”œâ”€â”€ docker-compose.prod.yml       # í”„ë¡œë•ì…˜
â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â””â”€â”€ Dockerfile.backend
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml
â”‚       â”œâ”€â”€ deploy-frontend.yml
â”‚       â””â”€â”€ deploy-backend.yml
â”‚
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## 7. ê°œë°œ ë§ˆì¼ìŠ¤í†¤

### 7.1 Phase 1: MVP ê°œë°œ

```
Phase 1: MVP
â”œâ”€â”€ Sprint 1-2: í™˜ê²½ êµ¬ì¶• & ì¸ì¦
â”‚   â”œâ”€â”€ ê°œë°œ í™˜ê²½ ì„¸íŒ… (Docker, CI/CD)
â”‚   â”œâ”€â”€ FastAPI í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì •
â”‚   â”œâ”€â”€ Next.js + MUI í”„ë¡œì íŠ¸ ì„¤ì •
â”‚   â”œâ”€â”€ PostgreSQL ìŠ¤í‚¤ë§ˆ ì„¤ê³„ (SQLAlchemy + Alembic)
â”‚   â”œâ”€â”€ íšŒì›ê°€ì…/ë¡œê·¸ì¸ API (ì´ë©”ì¼, ì¹´ì¹´ì˜¤)
â”‚   â”œâ”€â”€ JWT ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â””â”€â”€ ë¡œê·¸ì¸/íšŒì›ê°€ì… í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
â”‚
â”œâ”€â”€ Sprint 3-4: ì˜ˆì•½ í•µì‹¬ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ ì˜ˆì•½ CRUD API
â”‚   â”œâ”€â”€ ë§¤ë‹ˆì € ëª©ë¡/ìƒì„¸ API
â”‚   â”œâ”€â”€ ì˜ˆì•½ ìƒì„± í”Œë¡œìš° UI (5ë‹¨ê³„)
â”‚   â”œâ”€â”€ ì¹´ì¹´ì˜¤ë§µ ì—°ë™ (ë³‘ì› ê²€ìƒ‰)
â”‚   â”œâ”€â”€ í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ ì—°ë™
â”‚   â””â”€â”€ ì˜ˆì•½ ìƒíƒœ ê´€ë¦¬
â”‚
â”œâ”€â”€ Sprint 5-6: ë§¤ë‹ˆì € ê¸°ëŠ¥
â”‚   â”œâ”€â”€ ë§¤ë‹ˆì € ì „ìš© í˜ì´ì§€
â”‚   â”œâ”€â”€ ì˜ˆì•½ ìˆ˜ë½/ê±°ì ˆ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ ì„œë¹„ìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ ì¼ì • ê´€ë¦¬ (ìº˜ë¦°ë”)
â”‚   â””â”€â”€ ë§¤ë‹ˆì € í”„ë¡œí•„ ê´€ë¦¬
â”‚
â”œâ”€â”€ Sprint 7-8: ê´€ë¦¬ì & ë§ˆë¬´ë¦¬
â”‚   â”œâ”€â”€ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ íšŒì›/ì˜ˆì•½ ê´€ë¦¬ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ í‘¸ì‹œ ì•Œë¦¼ ì—°ë™ (Firebase)
â”‚   â”œâ”€â”€ QA & ë²„ê·¸ ìˆ˜ì •
â”‚   â””â”€â”€ ë°°í¬ ì¤€ë¹„
```

### 7.2 Phase 2: ê¸°ëŠ¥ ê³ ë„í™”

```
Phase 2: ê¸°ëŠ¥ ê³ ë„í™”
â”œâ”€â”€ Sprint 9-10: ì‹¤ì‹œê°„ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ WebSocket ì„œë²„ êµ¬ì¶•
â”‚   â”œâ”€â”€ ì‹¤ì‹œê°„ ìœ„ì¹˜ ì¶”ì 
â”‚   â”œâ”€â”€ ì‹¤ì‹œê°„ ì±„íŒ…
â”‚   â””â”€â”€ ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸ UI
â”‚
â”œâ”€â”€ Sprint 11-12: ë¦¬í¬íŠ¸ & ë¦¬ë·°
â”‚   â”œâ”€â”€ ì§„ë£Œ ë¦¬í¬íŠ¸ ì‘ì„±/ì¡°íšŒ
â”‚   â”œâ”€â”€ ë¦¬ë·° ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ ë§¤ë‹ˆì € ë“±ê¸‰ ì‹œìŠ¤í…œ
â”‚   â””â”€â”€ ê°€ì¡± ê³µìœ  ê¸°ëŠ¥
â”‚
â”œâ”€â”€ Sprint 13-14: ê´€ë¦¬ì ê³ ë„í™”
â”‚   â”œâ”€â”€ ì •ì‚° ì‹œìŠ¤í…œ (Celery)
â”‚   â”œâ”€â”€ í†µê³„ ëŒ€ì‹œë³´ë“œ (Recharts)
â”‚   â””â”€â”€ CS ê´€ë¦¬ ì‹œìŠ¤í…œ
```

---

## 8. ë°°í¬ ì „ëµ

### 8.1 í™˜ê²½ êµ¬ì„±

| í™˜ê²½ | ìš©ë„ | URL |
|------|------|-----|
| **Development** | ê°œë°œ/í…ŒìŠ¤íŠ¸ | dev.gyeote.kr |
| **Staging** | QA/ê²€ì¦ | staging.gyeote.kr |
| **Production** | ì‹¤ì„œë¹„ìŠ¤ | gyeote.kr, api.gyeote.kr |

### 8.2 Docker Compose (ê°œë°œ)

```yaml
# docker/docker-compose.yml
version: '3.8'

services:
  frontend:
    build:
      context: ../frontend
      dockerfile: ../docker/Dockerfile.frontend
    ports:
      - "3000:3000"
    environment:
      - NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
    volumes:
      - ../frontend:/app
      - /app/node_modules
    depends_on:
      - backend

  backend:
    build:
      context: ../backend
      dockerfile: ../docker/Dockerfile.backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://postgres:password@db:5432/gyeote
      - REDIS_URL=redis://redis:6379/0
      - SECRET_KEY=${SECRET_KEY}
    volumes:
      - ../backend:/app
    depends_on:
      - db
      - redis

  db:
    image: postgres:15
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=gyeote
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  celery:
    build:
      context: ../backend
      dockerfile: ../docker/Dockerfile.backend
    command: celery -A app.tasks.celery_app worker --loglevel=info
    environment:
      - DATABASE_URL=postgresql://postgres:password@db:5432/gyeote
      - REDIS_URL=redis://redis:6379/0
    depends_on:
      - db
      - redis

volumes:
  postgres_data:
```

### 8.3 CI/CD íŒŒì´í”„ë¼ì¸

```yaml
# .github/workflows/ci.yml
name: CI

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test-backend:
    runs-on: ubuntu-latest
    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: password
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 5432:5432

    steps:
      - uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - name: Install dependencies
        run: |
          cd backend
          pip install -r requirements.txt -r requirements-dev.txt
      - name: Run tests
        run: |
          cd backend
          pytest --cov=app tests/
      - name: Lint
        run: |
          cd backend
          ruff check app/

  test-frontend:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      - name: Install dependencies
        run: |
          cd frontend
          npm ci
      - name: Lint
        run: |
          cd frontend
          npm run lint
      - name: Build
        run: |
          cd frontend
          npm run build
```

### 8.4 ì¸í”„ë¼ ë¹„ìš© ì˜ˆìƒ (ì›”ê°„)

| ì„œë¹„ìŠ¤ | ì‚¬ì–‘ | ë¹„ìš© |
|--------|------|------|
| **EC2 (Backend)** | t3.medium x 2 | $80 |
| **RDS (PostgreSQL)** | db.t3.medium | $100 |
| **ElastiCache (Redis)** | cache.t3.micro | $20 |
| **S3 + CloudFront** | 100GB | $30 |
| **Vercel (Frontend)** | Pro Plan | $20 |
| **ê¸°íƒ€ (NAT, ALB ë“±)** | - | $50 |
| **í•©ê³„** | - | **~$300/ì›”** |

---

## 9. í’ˆì§ˆ ê´€ë¦¬

### 9.1 í…ŒìŠ¤íŠ¸ ì „ëµ

| ìœ í˜• | ë„êµ¬ | ì»¤ë²„ë¦¬ì§€ ëª©í‘œ |
|------|------|-------------|
| **Unit Test (BE)** | pytest | 80% |
| **Integration Test (BE)** | pytest + httpx | ì£¼ìš” API |
| **Unit Test (FE)** | Jest + RTL | 70% |
| **E2E Test** | Playwright | í•µì‹¬ í”Œë¡œìš° |

### 9.2 ì½”ë“œ í’ˆì§ˆ

```python
# pyproject.toml
[tool.ruff]
line-length = 100
select = ["E", "F", "I", "N", "W"]

[tool.pytest.ini_options]
asyncio_mode = "auto"
testpaths = ["tests"]

[tool.mypy]
python_version = "3.11"
strict = true
```

### 9.3 ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] HTTPS ì ìš©
- [ ] JWT í† í° ë§Œë£Œ ì‹œê°„ ì„¤ì • (15ë¶„/7ì¼)
- [ ] SQL Injection ë°©ì§€ (SQLAlchemy ORM)
- [ ] XSS ë°©ì§€ (ì…ë ¥ê°’ ê²€ì¦)
- [ ] Rate Limiting ì ìš© (slowapi)
- [ ] ê°œì¸ì •ë³´ ì•”í˜¸í™” (AES-256)
- [ ] CORS ì„¤ì •
- [ ] í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬ (.env)

---

## 10. ì²´í¬ë¦¬ìŠ¤íŠ¸

### 10.1 MVP ì¶œì‹œ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ê¸°ëŠ¥**
- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸ ì •ìƒ ë™ì‘
- [ ] ì˜ˆì•½ í”Œë¡œìš° ì™„ë£Œ (ì˜ˆì•½â†’ê²°ì œâ†’í™•ì •)
- [ ] ë§¤ë‹ˆì € ì˜ˆì•½ ìˆ˜ë½/ê±°ì ˆ
- [ ] ì„œë¹„ìŠ¤ ìƒíƒœ ì—…ë°ì´íŠ¸
- [ ] í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡
- [ ] ê²°ì œ/í™˜ë¶ˆ ì •ìƒ ì²˜ë¦¬

**í’ˆì§ˆ**
- [ ] ì£¼ìš” ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80%
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (ë™ì‹œ ì ‘ì† 100ëª…)
- [ ] ë³´ì•ˆ ì·¨ì•½ì  ì ê²€

**ìš´ì˜**
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•
- [ ] ì—ëŸ¬ ì•Œë¦¼ ì„¤ì •
- [ ] ë°±ì—… ì •ì±… ìˆ˜ë¦½
- [ ] ì¥ì•  ëŒ€ì‘ ë§¤ë‰´ì–¼

**ë²•ì **
- [ ] ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨
- [ ] ì´ìš©ì•½ê´€
- [ ] ìœ„ì¹˜ì •ë³´ ì´ìš©ì•½ê´€
- [ ] ì‚¬ì—…ìë“±ë¡

---

**ë¬¸ì„œ ë²„ì „**: v1.1
**ì‘ì„±ì¼**: 2025ë…„ 12ì›” 31ì¼
**ìˆ˜ì •**: ê¸°ìˆ  ìŠ¤íƒ ë³€ê²½ (React+MUI+Next.js / Python FastAPI)
**ì‘ì„±ì**: Claude Code
