# 메뉴 관리 - Windows Explorer 스타일

Windows Explorer/VS Code 스타일의 메뉴 관리 페이지입니다.

## 주요 기능

### 1. Explorer 스타일 트리 뷰 (좌측)
- **폴더/파일 아이콘**: 하위 메뉴가 있으면 📁, 없으면 📄
- **확장/축소**: 화살표 클릭으로 하위 메뉴 표시/숨김
  - 열림: ▼ (노란색 폴더)
  - 닫힘: ▶ (회색 폴더)
- **선택 하이라이트**: 선택된 메뉴는 파란색 배경
- **들여쓰기**: 계층 구조를 시각적으로 표현

### 2. Properties 패널 (우측)
- **읽기 모드**: 선택한 메뉴의 정보 표시
- **편집 모드**: F2 키 또는 수정 버튼으로 전환
- **섹션별 구성**:
  - 기본 정보 (이름, 코드, 설명, 아이콘)
  - 링크 설정 (URL, 외부 링크 등)
  - 권한 설정
  - 표시 옵션
  - 메타데이터 (읽기 전용)

### 3. 키보드 단축키
| 키 | 동작 |
|---|------|
| **Delete** | 선택한 메뉴 삭제 |
| **F2** | 선택한 메뉴 수정 모드 |
| **Esc** | 편집 모드 취소 |

### 4. 우클릭 컨텍스트 메뉴
메뉴 항목에서 우클릭하면:
- ✏️ **수정**: 해당 메뉴 편집
- ➕ **하위 메뉴 추가**: 선택한 메뉴 아래 새 메뉴 생성
- 📋 **복제**: 같은 레벨에 복사본 생성
- 🗑️ **삭제**: 메뉴 삭제 (확인 대화상자)

### 5. 툴바 기능
**Explorer 툴바**:
- 메뉴 타입 선택 (관리자/사용자/헤더/푸터)
- ➕ 새 메뉴 생성
- 🔄 새로고침

**Properties 툴바**:
- ✏️ 수정 (F2)
- 🗑️ 삭제 (Delete)

## UI/UX 특징

### Windows Explorer 느낌
- **회색 배경 툴바**: 섹션 구분
- **커스텀 스크롤바**: 트리와 패널 모두 적용
- **호버 효과**: 마우스 오버 시 배경색 변경
- **선택 상태**: 파란색 배경으로 명확하게 표시

### 반응형 레이아웃
- 좌측 Explorer: 40% (최소 300px)
- 우측 Properties: 60% (flex)
- 구분선: 4px 회색

## 컴포넌트 구조

```
page.tsx (메인 페이지)
├── Explorer Panel
│   ├── Toolbar (메뉴 타입, 새 메뉴, 새로고침)
│   └── Tree View
│       └── MenuTreeItem (재귀 컴포넌트)
│           ├── 화살표 (확장/축소)
│           ├── 아이콘 (폴더/파일)
│           ├── 이름 + 상태 칩
│           └── 하위 메뉴 (Collapse)
└── Properties Panel
    ├── Toolbar (수정/삭제 버튼)
    ├── Form Sections
    │   ├── 기본 정보
    │   ├── 링크 설정
    │   ├── 권한 설정
    │   ├── 표시 옵션
    │   └── 메타데이터
    └── Action Buttons (저장/취소 or 수정/삭제)
```

## 개발자 노트

### 상태 관리
- `menus`: 트리 구조 메뉴 목록
- `selectedMenu`: 현재 선택된 메뉴 (전체 정보)
- `isEditing`: 편집 모드 여부
- `formData`: 폼 입력 데이터
- `contextMenu`: 우클릭 메뉴 상태

### API 연동
- `api.getMenusTree()`: 트리 구조로 메뉴 조회
- `api.getMenu(id)`: 단일 메뉴 상세 조회
- `api.createMenu(data)`: 새 메뉴 생성
- `api.updateMenu(id, data)`: 메뉴 수정
- `api.deleteMenu(id)`: 메뉴 삭제

### 스타일링
- MUI sx prop 활용
- 커스텀 스크롤바 (webkit-scrollbar)
- 선택 상태: `primary.light`
- 호버 상태: `action.hover`
- 구분선: `divider`
- 배경: `grey.50`

## TODO (향후 개선사항)

- [ ] 드래그 앤 드롭으로 메뉴 순서 변경
- [ ] 드래그 앤 드롭으로 부모 변경
- [ ] 메뉴 검색 기능
- [ ] 다중 선택 (Ctrl+Click, Shift+Click)
- [ ] 복사/붙여넣기 (Ctrl+C, Ctrl+V)
- [ ] 실행 취소/다시 실행 (Ctrl+Z, Ctrl+Y)
- [ ] 패널 크기 조절 (리사이저)
