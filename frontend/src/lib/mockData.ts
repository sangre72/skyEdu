import type { User, CompanionProfile } from '@/types';

// 샘플 동행인 데이터 (20명) - 010-0000-0000 ~ 010-0000-0019
export const MOCK_COMPANIONS: (User & { profile: CompanionProfile })[] = [
  {
    id: 'companion-1',
    phone: '01000000000',
    name: '김미영',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-01-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-1',
      user_id: 'companion-1',
      introduction: '15년간 대학병원 간호사로 근무한 경험을 바탕으로 세심하고 따뜻한 동행 서비스를 제공합니다.',
      service_areas: ['gangnam', 'seocho', 'songpa'],
      certifications: [{ type: 'nurse', name: '간호사', is_verified: true }],
      rating: 4.9,
      total_services: 127,
      is_available: true,
      created_at: '2024-01-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-2',
    phone: '01000000001',
    name: '이순자',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-02-10T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-2',
      user_id: 'companion-2',
      introduction: '요양보호사 자격증 보유, 어르신 동행 전문입니다. 편안하고 안전한 병원 방문을 도와드립니다.',
      service_areas: ['mapo', 'seodaemun', 'eunpyeong'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.8,
      total_services: 89,
      is_available: true,
      created_at: '2024-02-10T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-3',
    phone: '01000000002',
    name: '박정희',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-03-05T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-3',
      user_id: 'companion-3',
      introduction: '사회복지사로 10년간 복지관에서 근무했습니다. 친절하고 꼼꼼한 동행 서비스를 약속드립니다.',
      service_areas: ['gangdong', 'songpa', 'gwangjin'],
      certifications: [{ type: 'social_worker', name: '사회복지사', is_verified: true }],
      rating: 4.7,
      total_services: 56,
      is_available: true,
      created_at: '2024-03-05T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-4',
    phone: '01000000003',
    name: '최영수',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-03-20T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-4',
      user_id: 'companion-4',
      introduction: '간호조무사 출신으로 병원 시스템을 잘 알고 있습니다. 검사, 진료 동행 전문입니다.',
      service_areas: ['yongsan', 'jung', 'jongno'],
      certifications: [{ type: 'nurse_aide', name: '간호조무사', is_verified: true }],
      rating: 4.6,
      total_services: 34,
      is_available: false,
      created_at: '2024-03-20T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-5',
    phone: '01000000004',
    name: '정민수',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-04-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-5',
      user_id: 'companion-5',
      introduction: '항암치료, 투석 등 정기 병원 방문 동행 경험이 많습니다. 환자분의 마음을 이해합니다.',
      service_areas: ['nowon', 'dobong', 'gangbuk'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.9,
      total_services: 203,
      is_available: true,
      created_at: '2024-04-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-6',
    phone: '01000000005',
    name: '한소희',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-04-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-6',
      user_id: 'companion-6',
      introduction: '20년 경력 간호사입니다. 수술, 입퇴원 동행 전문으로 꼼꼼하게 케어해드립니다.',
      service_areas: ['gangnam', 'seocho', 'dongjak'],
      certifications: [{ type: 'nurse', name: '간호사', is_verified: true }],
      rating: 4.95,
      total_services: 312,
      is_available: true,
      created_at: '2024-04-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-7',
    phone: '01000000006',
    name: '오지훈',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-05-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-7',
      user_id: 'companion-7',
      introduction: '젊고 활기찬 동행 서비스를 제공합니다. 건강검진 동행 전문입니다.',
      service_areas: ['guro', 'geumcheon', 'yeongdeungpo'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.7,
      total_services: 45,
      is_available: true,
      created_at: '2024-05-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-8',
    phone: '01000000007',
    name: '윤서연',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-05-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-8',
      user_id: 'companion-8',
      introduction: '사회복지학 전공 후 복지관에서 5년간 근무했습니다. 따뜻한 마음으로 동행합니다.',
      service_areas: ['seongdong', 'gwangjin', 'dongdaemun'],
      certifications: [{ type: 'social_worker', name: '사회복지사', is_verified: true }],
      rating: 4.8,
      total_services: 67,
      is_available: true,
      created_at: '2024-05-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-9',
    phone: '01000000008',
    name: '장현우',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-06-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-9',
      user_id: 'companion-9',
      introduction: '응급실, 야간 진료 동행 가능합니다. 긴급 상황에도 신속하게 대응합니다.',
      service_areas: ['yangcheon', 'gangseo', 'mapo'],
      certifications: [{ type: 'nurse_aide', name: '간호조무사', is_verified: true }],
      rating: 4.6,
      total_services: 28,
      is_available: true,
      created_at: '2024-06-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-10',
    phone: '01000000009',
    name: '임수빈',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-06-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-10',
      user_id: 'companion-10',
      introduction: '소아과, 산부인과 동행 경험이 많습니다. 여성 환자분들께 편안한 동행을 약속드립니다.',
      service_areas: ['seongbuk', 'jungnang', 'dongdaemun'],
      certifications: [{ type: 'nurse', name: '간호사', is_verified: true }],
      rating: 4.85,
      total_services: 156,
      is_available: true,
      created_at: '2024-06-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-11',
    phone: '01000000010',
    name: '강민준',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-07-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-11',
      user_id: 'companion-11',
      introduction: '정형외과, 재활의학과 동행 전문입니다. 거동이 불편하신 분들을 세심하게 케어합니다.',
      service_areas: ['gwanak', 'dongjak', 'seocho'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.75,
      total_services: 78,
      is_available: true,
      created_at: '2024-07-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-12',
    phone: '01000000011',
    name: '조은지',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-07-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-12',
      user_id: 'companion-12',
      introduction: '치매 어르신 동행 경험이 풍부합니다. 인내심을 가지고 천천히 동행합니다.',
      service_areas: ['nowon', 'seongbuk', 'gangbuk'],
      certifications: [
        { type: 'care_worker', name: '요양보호사', is_verified: true },
        { type: 'social_worker', name: '사회복지사', is_verified: true },
      ],
      rating: 4.9,
      total_services: 189,
      is_available: true,
      created_at: '2024-07-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-13',
    phone: '01000000012',
    name: '신동현',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-08-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-13',
      user_id: 'companion-13',
      introduction: '대형병원 동행 전문입니다. 복잡한 병원 시스템도 능숙하게 안내해드립니다.',
      service_areas: ['jongno', 'jung', 'seodaemun'],
      certifications: [{ type: 'nurse_aide', name: '간호조무사', is_verified: true }],
      rating: 4.65,
      total_services: 52,
      is_available: true,
      created_at: '2024-08-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-14',
    phone: '01000000013',
    name: '황지민',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-08-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-14',
      user_id: 'companion-14',
      introduction: '수면내시경, 건강검진 동행 전문입니다. 검사 후 안전한 귀가까지 책임집니다.',
      service_areas: ['gangnam', 'songpa', 'gangdong'],
      certifications: [{ type: 'nurse', name: '간호사', is_verified: true }],
      rating: 4.88,
      total_services: 234,
      is_available: true,
      created_at: '2024-08-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-15',
    phone: '01000000014',
    name: '백승호',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-09-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-15',
      user_id: 'companion-15',
      introduction: '1인 가구 분들의 병원 동행을 주로 합니다. 혼자 가기 어려운 검사도 함께합니다.',
      service_areas: ['yeongdeungpo', 'guro', 'yangcheon'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.7,
      total_services: 41,
      is_available: true,
      created_at: '2024-09-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-16',
    phone: '01000000015',
    name: '송유진',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-09-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-16',
      user_id: 'companion-16',
      introduction: '암 투병 환자분들의 항암치료 동행 경험이 많습니다. 힘든 시간 함께하겠습니다.',
      service_areas: ['seocho', 'gangnam', 'dongjak'],
      certifications: [{ type: 'nurse', name: '간호사', is_verified: true }],
      rating: 4.95,
      total_services: 167,
      is_available: true,
      created_at: '2024-09-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-17',
    phone: '01000000016',
    name: '류태민',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-10-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-17',
      user_id: 'companion-17',
      introduction: '어르신 전문 동행 서비스입니다. 느긋하게 어르신 페이스에 맞춰 동행합니다.',
      service_areas: ['dobong', 'nowon', 'jungnang'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.8,
      total_services: 95,
      is_available: true,
      created_at: '2024-10-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-18',
    phone: '01000000017',
    name: '문서현',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-10-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-18',
      user_id: 'companion-18',
      introduction: '장애인 동행 서비스 전문입니다. 휠체어 이동 등 특수 상황도 대응 가능합니다.',
      service_areas: ['eunpyeong', 'seodaemun', 'mapo'],
      certifications: [
        { type: 'social_worker', name: '사회복지사', is_verified: true },
        { type: 'care_worker', name: '요양보호사', is_verified: true },
      ],
      rating: 4.92,
      total_services: 134,
      is_available: true,
      created_at: '2024-10-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-19',
    phone: '01000000018',
    name: '권도윤',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-11-01T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-19',
      user_id: 'companion-19',
      introduction: '내과, 신경과 동행이 주 전문입니다. 검사 결과 설명까지 함께 들어드립니다.',
      service_areas: ['gwangjin', 'seongdong', 'jung'],
      certifications: [{ type: 'nurse_aide', name: '간호조무사', is_verified: true }],
      rating: 4.72,
      total_services: 63,
      is_available: true,
      created_at: '2024-11-01T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
  {
    id: 'companion-20',
    phone: '01000000019',
    name: '안예린',
    role: 'companion',
    is_verified: true,
    is_active: true,
    created_at: '2024-11-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
    profile: {
      id: 'profile-20',
      user_id: 'companion-20',
      introduction: '신규 동행인입니다. 정성을 다해 안전하고 편안한 병원 동행을 약속드립니다.',
      service_areas: ['geumcheon', 'gwanak', 'guro'],
      certifications: [{ type: 'care_worker', name: '요양보호사', is_verified: true }],
      rating: 4.5,
      total_services: 12,
      is_available: true,
      created_at: '2024-11-15T00:00:00Z',
      updated_at: '2024-12-01T00:00:00Z',
    },
  },
];

// 샘플 고객 데이터 (20명) - 010-1111-1111 ~ 010-1111-1130
export const MOCK_CUSTOMERS: User[] = [
  { id: 'customer-1', phone: '01011111111', name: '홍길동', role: 'customer', is_verified: true, is_active: true, created_at: '2024-01-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-2', phone: '01011111112', name: '김철수', role: 'customer', is_verified: true, is_active: true, created_at: '2024-01-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-3', phone: '01011111113', name: '이영희', role: 'customer', is_verified: true, is_active: true, created_at: '2024-02-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-4', phone: '01011111114', name: '박민수', role: 'customer', is_verified: true, is_active: true, created_at: '2024-02-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-5', phone: '01011111115', name: '정수진', role: 'customer', is_verified: true, is_active: true, created_at: '2024-03-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-6', phone: '01011111116', name: '최동훈', role: 'customer', is_verified: true, is_active: true, created_at: '2024-03-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-7', phone: '01011111117', name: '한미래', role: 'customer', is_verified: true, is_active: true, created_at: '2024-04-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-8', phone: '01011111118', name: '오세훈', role: 'customer', is_verified: true, is_active: true, created_at: '2024-04-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-9', phone: '01011111119', name: '윤지현', role: 'customer', is_verified: true, is_active: true, created_at: '2024-05-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-10', phone: '01011111120', name: '장현석', role: 'customer', is_verified: true, is_active: true, created_at: '2024-05-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-11', phone: '01011111121', name: '임소연', role: 'customer', is_verified: true, is_active: true, created_at: '2024-06-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-12', phone: '01011111122', name: '강태우', role: 'customer', is_verified: true, is_active: true, created_at: '2024-06-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-13', phone: '01011111123', name: '조미영', role: 'customer', is_verified: true, is_active: true, created_at: '2024-07-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-14', phone: '01011111124', name: '신준혁', role: 'customer', is_verified: true, is_active: true, created_at: '2024-07-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-15', phone: '01011111125', name: '황보라', role: 'customer', is_verified: true, is_active: true, created_at: '2024-08-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-16', phone: '01011111126', name: '백승현', role: 'customer', is_verified: true, is_active: true, created_at: '2024-08-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-17', phone: '01011111127', name: '송다은', role: 'customer', is_verified: true, is_active: true, created_at: '2024-09-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-18', phone: '01011111128', name: '류지훈', role: 'customer', is_verified: true, is_active: true, created_at: '2024-09-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-19', phone: '01011111129', name: '문하늘', role: 'customer', is_verified: true, is_active: true, created_at: '2024-10-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'customer-20', phone: '01011111130', name: '권세진', role: 'customer', is_verified: true, is_active: true, created_at: '2024-10-15T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
];

// 전체 유저 찾기 함수
export function findUserByPhone(phone: string): (User & { profile?: CompanionProfile }) | null {
  const normalizedPhone = phone.replace(/-/g, '');

  // 동행인 검색
  const companion = MOCK_COMPANIONS.find((c) => c.phone === normalizedPhone);
  if (companion) return companion;

  // 고객 검색
  const customer = MOCK_CUSTOMERS.find((c) => c.phone === normalizedPhone);
  if (customer) return customer;

  return null;
}

// 동행인 목록 가져오기
export function getCompanions(options?: {
  area?: string;
  certification?: string;
  sortBy?: 'rating' | 'services';
}) {
  let result = [...MOCK_COMPANIONS];

  if (options?.area) {
    result = result.filter((c) => c.profile.service_areas.includes(options.area!));
  }

  if (options?.certification) {
    result = result.filter((c) =>
      c.profile.certifications.some((cert) => cert.type === options.certification)
    );
  }

  if (options?.sortBy === 'rating') {
    result.sort((a, b) => b.profile.rating - a.profile.rating);
  } else if (options?.sortBy === 'services') {
    result.sort((a, b) => b.profile.total_services - a.profile.total_services);
  }

  return result;
}
